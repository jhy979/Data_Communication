# Data_Communication
___
- 데이터 커뮤니케이션 수업입니다. 다양한 네트워크 이론과 프로토콜들, 라우팅 알고리즘에 대하여 배웠습니다. <br><br>
- 수업시간에 주셨던 과제들에 대하여 올려보았습니다. <br><br>
- 그리고 수업 말미에 논문에 대해 올려 주셨었습니다 👇  👇 
##  A simulation study of the adaptive rio queue management algorithm
- 2005년에 나온 논문으로 congest avoidance와 differntiated forwarding of packets을 수행할 수 있도록 하는 메커니즘에 대한 해결책을 제시한 논문입니다. 이 논문을 읽고 요약을 한 번 해봤습니다.<br> 
- 관련 파일 내용은 ```A simulation study of the adaptive rio queue management algorithm_summary.hwp```입니다.<br><br>


#### 👇 파일 누르기 귀찮으신 분들은 아래에 마크다운으로 작성해 놨으니 그냥 보셔도 괜찮을 것 같아요.
<br><br><br>

# A simulation study of the adaptive rio queue management algorithm
___
## 1. 배경
- Active queue mangagement AQM : congest avoidance와 differntiated forwarding of packets을 수행할 수 있도록 하는 메커니즘이다.<br><br>
✋ 여기에서 문제점이 두 가지 있다. 매개변수 설정이 어렵고 오류가 자주 발생한다는 것이다. 또한, AQM 메커니즘 성능이 네트워크 조건에 매우 민감하다는 문제점도 존재한다. 이러한 문제점을 해결하도록 RIO(A-RIO) 알고리즘을 제시하고자 한다. 높은 처리량을 지향하고 우선순위가 높은 패킷을 보호하는 대기열 안정화하는데 있어서 RIO에 비해 A-RIO 알고리즘이 더 효과적임을 알리고자 한다. 
___
## 1. Active QM 알고리즘 

- RED ❤️<br>
무작위 조기 버림 또는 무작위 조기 폐기으로 알려져 있는 무작위 조기 검출(Random early detect, RED은 혼잡 제어에 적합한 네트워크 스케줄러용 대기열 규율이다. 큐의 평균 길이에 기반하여 패킷을 랜덤하게 버린다. 이렇게 패킷을 버림으로써 평균 큐 길이를 조절하여 congestion avoidance 목적을 달성한다. (RED는 사이즈가 큰 큐에 대해서만 효율적이라는 맹점이 존재한다.)

- BLUE 💙<br>
RED처럼 무작위로 삭제하는 방식이다. 하지만 RED와 달리 관리자가 수행할 튜닝이 거의 없다. BLUE의대기열은 드롭 / 마크 확률 p를 유지하고 , 패킷이 대기열에 들어갈 때 p 확률로 패킷을 드롭 / 마크한다. 큐가 오버플로 될 때마다 p확률이 조금씩 증가하고 큐가 빌 때마다 p확률이 조금씩 감소한다.

- BLUE는 트래픽 동작이 학습되면 시간이 지남에 따라 성공적으로 대기열을 제어할 수 있다. 새로운 src가 활성화되면 BLUE는 초기에는 트래픽 부하 변경으로 인해 어려움을 겪는다. 트래픽이 안정화되면 패킷을 표시하는 방법을 알고 있기 때문에 BLUE가 큐를 성공적으로 제어할 수 있다. 이 컨트롤은 링크를 높은 처리량 상태로 유지한다.

- RED BLUE 성능 비교<br>
RED에서 발생하는 대기열 불안정성으로 인해 낮은 링크 사용률 외에 큰 감소율이 발생한다. 이러한 삭제는 주로 대기열 오버플로로 인해 발생하는 강제 삭제이다. 그러나 대기열 크기가 증가하면 BLUE가 0 드롭 속도로 수렴됩니다. 대기열 오버플로가 발생하지 않고 ECN을 사용하여 패킷을 표시하므로 패킷 손실을 최소 속도로 유지할 수 있다.

- 큐 사이즈가 100개 이상이면 사실 BLUE와 RED의 처리량은 거의 비슷한 수준이 된다.

- ECN을 지원하는 active flow가 많은 경우 BLUE는 RED보다 대기열 제어를 훨씬 더 잘한다. 큰 RTT의 경우 RED 대기열이 자주 오버플로되고 유휴 상태가 된다. RTT가 감소하면 대기열만 오버플로된다.

- 참고로 BLUE가 패킷 마킹을 못하는 상황이면 RED와 마찬가지로 loss rate가 커진다.
___
## 2. DiffServ<br>
네트워크 트래픽을 분류 및 관리 하고 최신 IP 네트워크 에서 서비스 품질 (QoS)을 제공하기 위한 간단하고 확장 가능한 메커니즘을 지정 하는 컴퓨터 네트워킹 아키텍처이다.

- RIO ❤️(RED with In and out)<br>
이러한 종류의 서비스를 제공하기 위해 라우터는 스케줄러와 함께 제공되는 각 출력 인터페이스에 대해 서로 다른 수의 대기열을 사용할 수 있다. 게이트웨이에는 EF 대기열, BE 대기열 및 AF 대기열 4개가 있을 수 있다. 각 AF 대기열은 RIO(RED with In and Out) [20]와 같은 알고리즘을 실행하여 한 대기열에서 서로 다른 우선 순위를 가진 패킷을 처리할 수 있어야 한다.  우선 순위가 높은 패킷보다 우선 순위가 낮은 패킷을 훨씬 먼저 삭제하기 시작하기 때문에 우선순위 따라 다른 수준의 서비스 제공 가능하다.
- BIO 💙<br>
RIO는 RED 기반 알고리즘이다. 게이트웨이에서 많은 수의 활성 흐름의 경우 빨간색은 대기열의 제어를 상실한다. 이러한 구성에서는 BLUE가 RED보다 성능이 우수함을 알 수 있습니다. 이전에서 설명했듯이 BLUE 성공에 영감을 받아, BIO(Blue with In and Out)라는 이름의 RIO에 대한 간단한 대안을 개발했다.

- RIO BIO 성능비교<br>
주어진 논문에서 RIO의 손실률은 0.1974로 측정되지만 BIOS의 경우 0.1796으로 측정된다. 이 높은 패킷 손실률은 아웃 패킷의 비효율적인 링크 용량으로 인해 발생한다.

- 결론<br>
AQM 알고리즘은 초기에 정체를 감지하고 패킷을 삭제하거나 마크하여 src에 전달한다. 이러한 메커니즘은 처리량을 증가시키고 손실률을 감소시킨다. 
가장 인기 있는 AQM 알고리즘인 RED는 입증된 이점 외에도 고유한 문제를 가지고 있다. 게이트웨이에서 많은 flow가 active일 때 ECN을 사용하면 새로운 활성 대기열 관리 알고리즘인 BLUE가 더 나은 성능을 발휘할 수 있다.
ECN이 지원하는 BLUE 알고리즘은 큐를 성공적으로 제어할 수 있으며 활성 흐름 수가 많은 중앙 게이트웨이의 손실률을 줄일 수 있다. 하지만 ECN 지원이 사라지면 블루의 성능이 RED과 비슷해진다.
오늘날 ECN은 널리 배치되지 않으므로, 블루의 이점은 실제 세계에서는 찾기 힘들다. ECN 지원 없이는 BLUE가 RED의 성능을 능가할 수 없더라도 여전히 BLUE는 경쟁성이 있으며 ECN 지원 호스트와 네트워크의 경우 패킷 손실률을 줄이는 데 도움이 될 것이다. flow가 많은 경우 BLUE의 성공에 영감을 받아 차별화된 서비스 노드에 사용할 새로운 큐 알고리즘인 BIO를 사용하기를 권장한다. 

- BIO는 낮은 손실률과 높은 링크 활용률을 달성할 것으로 기대되었다. 그러나, 두 가지 수준의 패킷 삭제 알고리즘과 자체 구성 아키텍처로 인해, BIO는 RIO보다 우수하다고 말할 수 없겠다.
___
# A simulation study of the Adaptive RIO (A-RIO) queuemanagement algorithm 
___
## 1. 도입
- AQM알고리즘<br>
패킷을 버리면서 큐의 길이를 조절하여 congestion control을 진행하고 버려지는 패킷들을 보며 End system도 전송하는 packet rate를 줄이는 방법을 사용한다. AQM은 congestion control 뿐만 아니라 DiffServ에도 연관이 있는데 AF를 통해 최대 4개의 클래스로 분류됫 패킷을 다르게 전달하고 각 클래스에는 또 최대 3개까지 우선순위 부여 가능하여 이에 따라 다른 수준의 서비스를 제공할 수 있다.

- RIO는 두 가지 매개 변수 집합을 사용하여 In(프로파일 내) 패킷과 Out(프로파일 밖) 패킷을 구분하는 RED의 직접 확장이다. RIO는 Out 패킷을 삭제할지 여부를 결정하기 위해 In 및 Out 패킷으로 구성된 총 대기열의 평균 크기를 사용한다.

- RIO-C(Coupled) : In packet에 대해서는 virtual queue 사이즈에 연관되는 버림확률, 우선순위 가장 낮은 패킷에 대해서는 physical queue에 연관한 버림 확률을 사용한다.<br>
### 👉  3가지 방식으로 패킷을 구별
1) 삭제 확률의 결합 계산 <br>
- 우선순위 j에 대한 버림확률을 j보다 낮은 우선순위 평균 패킷 수를 사용
-  상당 차별 우려
2) 서로 다른 우선순위에 대해 다른 임계값 사용<br>
- 높은 우선 순위 패킷이 더 일찍 삭제 시작
3) 서로 다른 우선순위에 대해 서로 다른 속도로 증가하는 낙하 확률 사용

※ 참고로 2,3번 방식은 서로 다른 매개 변수 설정에 기초하기 때문에 mutual exclusive하지 않다.

- RIO-DC(Decoupled) : 똑같은 큐를 기준으로 버림확률을 계산한다.
___
## 2. A-RIO
Adaptive RED(A-RED) [5] 알고리즘이 취하는 방법은 라우터에서 측정된 트래픽 부하를 기반으로 RED의 작동 파라미터를 동적으로 조정하는 것이다.

### 👉 2가지 원칙
1) AF 클래스의 각 우선 순위 수준(물리적 대기열)에 대해 전체 Adaptive RED 인스턴스를 사용한다. <br>
(엇갈린 임계값은 서로 다른 트래픽 혼합에 대해 서로 다른 평균 대기열 크기를 산출할 수 있기 때문임)

2) 모든 우선순위에 대해 완전히 중첩된 임계값을 사용한다.<br>
(중첩된 임계값의 사용은 차별화에 영향을 미치기 때문임)
___
## 3. A-RIO성능 <br>
- RIO는 maring profile에 따라 대기열 크기가 크게 달라지지만 A-RIO는 일정하게 유지한다. 모든 시나리오의 목표값에 근접함을 보여주었다. 
___
## 4.결론
- DiffServ 아키텍처의 AF-hop별 동작에 적합한 adaptive AQM 알고리즘 A-RIO를 제시했다. AQM 라우터의 매개변수 min,max,weight은 초기 결정되지만 드랍확률 p는 대기열 load에서 동적으로 조정된다. 이러한 방식으로 A-RIO는 대부분의 AQM 알고리즘에서 나타나는 튜닝 문제를 완화하는 데 도움이 될 수 있다. 또한, 패킷 판별, 처리량 및 대역폭 공유의 공정성과 같은 다른 성능 매개변수에 부정적인 영향을 미치지 않고 대기열을 안정화시킨다. 
